{"version":3,"sources":["webpack:///./src/sections/section4.js","webpack:///./src/sections/section4.css?46ac","webpack:///./src/sections/section4.css"],"names":["__webpack_require__","r","__webpack_exports__","lodash_es__WEBPACK_IMPORTED_MODULE_0__","dayjs__WEBPACK_IMPORTED_MODULE_1__","dayjs__WEBPACK_IMPORTED_MODULE_1___default","n","d3_scale__WEBPACK_IMPORTED_MODULE_2__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_3__","d3_random__WEBPACK_IMPORTED_MODULE_4__","console","log","parentElement","firstChild","removeChild","section4","document","createElement","innerHTML","joinContainer1","Object","appendChild","joinContainer2","dayjsContainer","format","d3Container","canvasElement","width","height","canvas","querySelector","context","getContext","color","domain","randomX","randomY","render","mainWalk","randomWalk","x0","y0","clearRect","lineJoin","lineCap","lineWidth","strokeStyle","renderWalk","globalCompositeOperation","i","length","branchStart","j","Math","random","x1","y1","k","globalAlpha","pieceWalk","pieceEnd","walk","beginPath","moveTo","lineTo","stroke","points","Array","onclick","content","module","options","hmr","transform","insertInto","undefined","locals","exports","push"],"mappings":"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","file":"section4.d0f85a9829afc4de8ed0.js","sourcesContent":["// import _ from 'lodash'; // bad, not tree-shakeable\n// import { join } from 'lodash'; // bad, not tree-shakeable\n// import _ from 'lodash-es'; // bad, using the default export which is not tree-shakeable\n// import * as _ from 'lodash-es'; // bad (would be good if the default export wasn't also included in this)\n// import { join, curry, debounce, delay } from 'lodash-es'; // ok to do since the unused methods are tree-shakeable (but really you wouldn't do this because why would you)\nimport { join } from 'lodash-es'; // good, tree-shakeable\n\nimport dayjs from 'dayjs';\n\n// import * as d3 from 'd3'; // bad, it's huge!\n// import { scaleSequential, interpolateRainbow, randomNormal } from 'd3'; // bad, still huge!\n// much better. d3 recommends using their individual smaller libraries:\nimport { scaleSequential } from 'd3-scale';\nimport { interpolateRainbow } from 'd3-scale-chromatic';\nimport { randomNormal } from 'd3-random';\n\nimport './section4.css';\n\nconsole.log('section 4 loaded!');\n\nconst createSection4 = (parentElement) => {\n  while (parentElement.firstChild) {\n    parentElement.removeChild(parentElement.firstChild);\n  }\n  const section4 = document.createElement('div');\n  section4.innerHTML = 'I am Section 4. I rely on the following dependencies: lodash, dayjs, d3. I share the following dependencies with Section 3: lodash. dayjs.';\n\n  const joinContainer1 = document.createElement('p');\n  joinContainer1.innerHTML = `Text joined by _.join: ${join(['Look', 'at', 'me!'], ' ')}`;\n  section4.appendChild(joinContainer1);\n\n  const joinContainer2 = document.createElement('p');\n  joinContainer2.innerHTML = `More text joined by _.join: ${join(['No,', 'really,', 'look!'], ' ')}`;\n  section4.appendChild(joinContainer2);\n\n  const dayjsContainer = document.createElement('p');\n  dayjsContainer.innerHTML = `Today's date from dayjs: ${dayjs().format('D MMMM YYYY')}`;\n  section4.appendChild(dayjsContainer);\n\n  const d3Container = document.createElement('p');\n  d3Container.innerHTML = 'Interactive display from d3:';\n  section4.appendChild(d3Container);\n\n  const canvasElement = document.createElement('canvas');\n  canvasElement.width = 300;\n  canvasElement.height = 300;\n  section4.appendChild(canvasElement);\n\n  parentElement.appendChild(section4);\n\n  /**\n   * Reproduced with love from https://bl.ocks.org/mbostock/e6f9e160585c153fa5ec543bd12b81e9\n   */\n  var canvas = document.querySelector(\"canvas\"),\n    context = canvas.getContext(\"2d\"),\n    width = canvas.width,\n    height = canvas.height,\n    color = scaleSequential(interpolateRainbow).domain([0, 1000]),\n    randomX = randomNormal(0.3),\n    randomY = randomNormal(0);\n\n  render();\n\n  canvas.onclick = render;\n\n  function render() {\n    var x0 = width / 20,\n      y0 = height / 2,\n      mainWalk = randomWalk(x0, y0, 1000);\n\n    context.clearRect(0, 0, width, height);\n    context.lineJoin = \"round\";\n    context.lineCap = \"round\";\n    context.lineWidth = 1.5;\n    context.strokeStyle = \"black\";\n    renderWalk(mainWalk);\n\n    context.globalCompositeOperation = \"multiply\";\n    context.lineWidth = 1;\n    for (var i = 0; i < mainWalk.length; i += 2) {\n      var branchStart = mainWalk[i],\n        x0 = branchStart[0],\n        y0 = branchStart[1];\n      for (var j = 0; j < 1; ++j) {\n        context.strokeStyle = color(i + (Math.random() - 0.5) * 50);\n        var x1 = x0, y1 = y0;\n        for (var k = 0, m = 20; k < m; ++k) {\n          context.globalAlpha = (m - k - 1) / m;\n          var pieceWalk = randomWalk(x1, y1, 10),\n            pieceEnd = pieceWalk[pieceWalk.length - 1];\n          renderWalk(pieceWalk);\n          x1 = pieceEnd[0];\n          y1 = pieceEnd[1];\n        }\n        context.globalAlpha = 1;\n      }\n    }\n  }\n\n  function renderWalk(walk) {\n    var i, n = walk.length;\n    context.beginPath();\n    context.moveTo(walk[0][0], walk[0][1]);\n    for (i = 1; i < n; ++i) {\n      context.lineTo(walk[i][0], walk[i][1]);\n    }\n    context.stroke();\n  }\n\n  function randomWalk(x0, y0, n) {\n    var points = new Array(n), i;\n    points[0] = [x0, y0];\n    for (i = 1; i < n; ++i) {\n      points[i] = [\n        x0 += randomX() * 2,\n        y0 += randomY() * 2\n      ];\n    }\n    return points;\n  }\n};\n\nexport default createSection4;\n","\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js!./section4.css\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../node_modules/css-loader/dist/cjs.js!./section4.css\", function() {\n\t\tvar newContent = require(\"!!../../node_modules/css-loader/dist/cjs.js!./section4.css\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../node_modules/css-loader/dist/runtime/api.js\")(false);\n// Module\nexports.push([module.id, \"canvas {\\n    width: 100%;\\n    border: 1px solid #000;\\n}\\n\", \"\"]);\n"],"sourceRoot":""}