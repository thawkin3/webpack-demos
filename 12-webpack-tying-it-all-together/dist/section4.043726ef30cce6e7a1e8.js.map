{"version":3,"sources":["webpack:///./src/sections/section4.js"],"names":["__webpack_require__","r","__webpack_exports__","lodash_es__WEBPACK_IMPORTED_MODULE_0__","dayjs__WEBPACK_IMPORTED_MODULE_1__","dayjs__WEBPACK_IMPORTED_MODULE_1___default","n","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","d3_scale__WEBPACK_IMPORTED_MODULE_3__","d3_scale_chromatic__WEBPACK_IMPORTED_MODULE_4__","d3_random__WEBPACK_IMPORTED_MODULE_5__","console","log","createSection4","parentElement","firstChild","removeChild","section4","document","createElement","innerHTML","joinContainer1","concat","join","appendChild","joinContainer2","dayjsContainer","dayjs","format","d3Container","canvasElement","width","height","fetchingContainer","axios","get","then","response","responseContainer","avatar","Image","src","data","avatar_url","classList","add","usernameContainer","name","catch","error","errorContainer","textContent","toString","canvas","querySelector","context","getContext","color","scaleSequential","interpolateRainbow","domain","randomX","randomNormal","randomY","render","mainWalk","randomWalk","x0","y0","clearRect","lineJoin","lineCap","lineWidth","strokeStyle","renderWalk","globalCompositeOperation","i","length","branchStart","j","Math","random","x1","y1","k","globalAlpha","pieceWalk","pieceEnd","walk","beginPath","moveTo","lineTo","stroke","points","Array","onclick"],"mappings":"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","file":"section4.043726ef30cce6e7a1e8.js","sourcesContent":["// import _ from 'lodash'; // bad, not tree-shakeable\n// import { join } from 'lodash'; // bad, not tree-shakeable\n// import _ from 'lodash-es'; // bad, using the default export which is not tree-shakeable\n// import * as _ from 'lodash-es'; // bad (would be good if the default export wasn't also included in this)\n// import { join, curry, debounce, delay } from 'lodash-es'; // ok to do since the unused methods are tree-shakeable (but really you wouldn't do this because why would you)\nimport { join } from 'lodash-es'; // good, tree-shakeable\n\nimport dayjs from 'dayjs';\n\nimport axios from 'axios';\n\n// import * as d3 from 'd3'; // bad, it's huge!\n// import { scaleSequential, interpolateRainbow, randomNormal } from 'd3'; // bad, still huge!\n// much better. d3 recommends using their individual smaller libraries:\nimport { scaleSequential } from 'd3-scale';\nimport { interpolateRainbow } from 'd3-scale-chromatic';\nimport { randomNormal } from 'd3-random';\n\nimport './section4.css';\n\nconsole.log('section 4 loaded!');\n\nconst createSection4 = (parentElement) => {\n  while (parentElement.firstChild) {\n    parentElement.removeChild(parentElement.firstChild);\n  }\n  const section4 = document.createElement('div');\n  section4.innerHTML = '<p>I am Section 4. I rely on the following third-party dependencies: axios, lodash, dayjs, d3. I share the following third-party dependencies with Section 2: axios. I share the following third-party dependencies with Section 3: lodash, dayjs.</p>';\n\n  const joinContainer1 = document.createElement('p');\n  joinContainer1.innerHTML = `Text joined by _.join: ${join(['Look', 'at', 'me!'], ' ')}`;\n  section4.appendChild(joinContainer1);\n\n  const joinContainer2 = document.createElement('p');\n  joinContainer2.innerHTML = `More text joined by _.join: ${join(['No,', 'really,', 'look!'], ' ')}`;\n  section4.appendChild(joinContainer2);\n\n  const dayjsContainer = document.createElement('p');\n  dayjsContainer.innerHTML = `Today's date from dayjs: ${dayjs().format('D MMMM YYYY')}`;\n  section4.appendChild(dayjsContainer);\n\n  const d3Container = document.createElement('p');\n  d3Container.innerHTML = 'Interactive display from d3:';\n  section4.appendChild(d3Container);\n\n  const canvasElement = document.createElement('canvas');\n  canvasElement.width = 300;\n  canvasElement.height = 300;\n  section4.appendChild(canvasElement);\n\n  const fetchingContainer = document.createElement('p');\n  fetchingContainer.innerHTML = 'Fetching GitHub user...';\n  section4.appendChild(fetchingContainer);\n\n  axios.get(`https://api.github.com/users/thawkin3`)\n    .then(response => {\n      const responseContainer = document.createElement('div');\n\n      const avatar = new Image();\n      avatar.src = response.data.avatar_url;\n      avatar.classList.add('avatar');\n      responseContainer.appendChild(avatar);\n\n      const usernameContainer = document.createElement('p');\n      usernameContainer.innerHTML = response.data.name;\n      usernameContainer.classList.add('username');\n      responseContainer.appendChild(usernameContainer);\n\n      section4.appendChild(responseContainer);\n    })\n    .catch(error => {\n      const errorContainer = document.createElement('p');\n      errorContainer.textContent = error.toString();\n      section4.appendChild(errorContainer);\n    });\n\n  parentElement.appendChild(section4);\n\n  /**\n   * Reproduced with love from https://bl.ocks.org/mbostock/e6f9e160585c153fa5ec543bd12b81e9\n   */\n  var canvas = document.querySelector(\"canvas\"),\n    context = canvas.getContext(\"2d\"),\n    width = canvas.width,\n    height = canvas.height,\n    color = scaleSequential(interpolateRainbow).domain([0, 1000]),\n    randomX = randomNormal(0.3),\n    randomY = randomNormal(0);\n\n  render();\n\n  canvas.onclick = render;\n\n  function render() {\n    var x0 = width / 20,\n      y0 = height / 2,\n      mainWalk = randomWalk(x0, y0, 1000);\n\n    context.clearRect(0, 0, width, height);\n    context.lineJoin = \"round\";\n    context.lineCap = \"round\";\n    context.lineWidth = 1.5;\n    context.strokeStyle = \"black\";\n    renderWalk(mainWalk);\n\n    context.globalCompositeOperation = \"multiply\";\n    context.lineWidth = 1;\n    for (var i = 0; i < mainWalk.length; i += 2) {\n      var branchStart = mainWalk[i],\n        x0 = branchStart[0],\n        y0 = branchStart[1];\n      for (var j = 0; j < 1; ++j) {\n        context.strokeStyle = color(i + (Math.random() - 0.5) * 50);\n        var x1 = x0, y1 = y0;\n        for (var k = 0, m = 20; k < m; ++k) {\n          context.globalAlpha = (m - k - 1) / m;\n          var pieceWalk = randomWalk(x1, y1, 10),\n            pieceEnd = pieceWalk[pieceWalk.length - 1];\n          renderWalk(pieceWalk);\n          x1 = pieceEnd[0];\n          y1 = pieceEnd[1];\n        }\n        context.globalAlpha = 1;\n      }\n    }\n  }\n\n  function renderWalk(walk) {\n    var i, n = walk.length;\n    context.beginPath();\n    context.moveTo(walk[0][0], walk[0][1]);\n    for (i = 1; i < n; ++i) {\n      context.lineTo(walk[i][0], walk[i][1]);\n    }\n    context.stroke();\n  }\n\n  function randomWalk(x0, y0, n) {\n    var points = new Array(n), i;\n    points[0] = [x0, y0];\n    for (i = 1; i < n; ++i) {\n      points[i] = [\n        x0 += randomX() * 2,\n        y0 += randomY() * 2\n      ];\n    }\n    return points;\n  }\n};\n\nexport default createSection4;\n"],"sourceRoot":""}